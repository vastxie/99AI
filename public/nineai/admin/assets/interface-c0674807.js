
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * Gitee  https://gitee.com/hooray/fantastic-admin
 * Github https://github.com/hooray/fantastic-admin
 */
  
import{_ as B}from"./index-a0d19af7.js";import{a as b}from"./config-1d5c8830.js";import{d as A,Q as C,r as g,x as D,o as q,c as N,e,f as o,a as r,k as j,E as V,h as i,q as R}from"./index-364622c9.js";const E={class:"flex justify-between"},O=r("b",null,"接口请求设置",-1),z=r("h4",null,"自动降级",-1),I=r("h4",null,"基础模型上下文配置",-1),K=r("h4",null,"高级模型上下文配置",-1),Q=A({__name:"interface",setup(S){const a=C({openaiBaseUrl:"",openaiTimeoutMs:"",openaiaAtoDowngrade:0,openaiModel3MaxTokens:"",openaiModel3MaxTokensRes:"",openaiModel3MaxTokens16k:"",openaiModel3MaxTokens16kRes:"",openaiModel4MaxTokens:"",openaiModel4MaxTokensRes:"",openaiModel4MaxTokens32k:"",openaiModel4MaxTokens32kRes:""}),w=g({openaiBaseUrl:[{required:!1,trigger:"blur",message:"请填写openai的请求地址"}],openaiTimeoutMs:[{required:!1,trigger:"blur",message:"请填写openai的超时时间（单位ms）"}]}),c=g();async function T(){const u=await b.queryConfig({keys:["openaiBaseUrl","openaiTimeoutMs","openaiModel3MaxTokens","openaiaAtoDowngrade","openaiModel3MaxTokensRes","openaiModel3MaxTokens16k","openaiModel3MaxTokens16kRes","openaiModel4MaxTokens","openaiModel4MaxTokensRes","openaiModel4MaxTokens32k","openaiModel4MaxTokens32kRes"]}),{openaiBaseUrl:l="",openaiTimeoutMs:M="",openaiaAtoDowngrade:m,openaiModel3MaxTokens:k,openaiModel3MaxTokensRes:p,openaiModel3MaxTokens16k:t,openaiModel3MaxTokens16kRes:d,openaiModel4MaxTokens:s,openaiModel4MaxTokensRes:x,openaiModel4MaxTokens32k:f,openaiModel4MaxTokens32kRes:_}=u.data;Object.assign(a,{openaiBaseUrl:l,openaiTimeoutMs:M,openaiaAtoDowngrade:Number(m),openaiModel3MaxTokens:k,openaiModel3MaxTokensRes:p,openaiModel3MaxTokens16k:t,openaiModel3MaxTokens16kRes:d,openaiModel4MaxTokens:s,openaiModel4MaxTokensRes:x,openaiModel4MaxTokens32k:f,openaiModel4MaxTokens32kRes:_})}function U(){var u;(u=c.value)==null||u.validate(async l=>{if(l){try{await b.setConfig({settings:y(a)}),V.success("变更配置信息成功")}catch{}T()}else V.error("请填写完整信息")})}function y(u){return Object.keys(u).map(l=>({configKey:l,configVal:u[l]}))}return D(()=>{T()}),(u,l)=>{const M=i("el-alert"),m=B,k=i("el-button"),p=i("el-input"),t=i("el-form-item"),d=i("el-col"),s=i("el-row"),x=i("el-divider"),f=i("el-switch"),_=i("el-tooltip"),h=i("el-form"),v=i("el-card");return q(),N("div",null,[e(m,null,{default:o(()=>[e(M,{closable:!1,"show-icon":"",title:"openai全局配置说明",description:"系统默认的地址是 https://api.openai.com 、如果你是国内的服务器可能无法访问、您可以使用自己的代理地址、或者免费的 https://open2.aiproxy.xyz 、此处的配置为全局配置、我们可以对单张key进行单独设置、当我们对key不进行设置的时候将会走此处的设置、如果此处也没有设置、系统将会走系统内置默认配置！",type:"success"})]),_:1}),e(v,{style:{margin:"20px"}},{header:o(()=>[r("div",E,[O,e(k,{class:"button",text:"",onClick:U},{default:o(()=>[j(" 保存设置 ")]),_:1})])]),default:o(()=>[e(h,{ref_key:"formRef",ref:c,rules:w.value,model:a,"label-width":"220px"},{default:o(()=>[e(s,null,{default:o(()=>[e(d,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(t,{label:"请求地址",prop:"openaiBaseUrl","label-width":"120px"},{default:o(()=>[e(p,{modelValue:a.openaiBaseUrl,"onUpdate:modelValue":l[0]||(l[0]=n=>a.openaiBaseUrl=n),placeholder:"默认地址: https://api.openai.com",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,null,{default:o(()=>[e(d,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(t,{label:"超时时间",prop:"openaiTimeoutMs","label-width":"120px"},{default:o(()=>[e(p,{modelValue:a.openaiTimeoutMs,"onUpdate:modelValue":l[1]||(l[1]=n=>a.openaiTimeoutMs=n),placeholder:"openai超时时间设置、默认100s 单位 ms",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(x),z,e(s,null,{default:o(()=>[e(d,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(t,{label:"是否自动降级",prop:"openaiaAtoDowngrade","label-width":"100"},{default:o(()=>[e(_,{class:"box-item",effect:"dark",content:"开启自动降级后、如果用户没有4的权限、将会自动降级为基础模型、并扣除3的余额！",placement:"right"},{default:o(()=>[e(f,{modelValue:a.openaiaAtoDowngrade,"onUpdate:modelValue":l[2]||(l[2]=n=>a.openaiaAtoDowngrade=n),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),I,e(s,null,{default:o(()=>[e(d,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(t,{label:"普通基础模型允许最大上下文",prop:"openaiModel3MaxTokens"},{default:o(()=>[e(p,{modelValue:a.openaiModel3MaxTokens,"onUpdate:modelValue":l[3]||(l[3]=n=>a.openaiModel3MaxTokens=n),placeholder:"普通基础模型最大支持4096、默认4096",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,null,{default:o(()=>[e(d,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(t,{label:"普通基础模型允许最大回复上下文",prop:"openaiModel3MaxTokensRes"},{default:o(()=>[e(p,{modelValue:a.openaiModel3MaxTokensRes,"onUpdate:modelValue":l[4]||(l[4]=n=>a.openaiModel3MaxTokensRes=n),placeholder:"最大回复设置、默认1000、建议不能设置太高！",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,null,{default:o(()=>[e(d,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(t,{label:"16k基础模型允许最大上下文",prop:"openaiModel3MaxTokens16k"},{default:o(()=>[e(p,{modelValue:a.openaiModel3MaxTokens16k,"onUpdate:modelValue":l[5]||(l[5]=n=>a.openaiModel3MaxTokens16k=n),placeholder:"16k基础模型最大支持16384、默认16384",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,null,{default:o(()=>[e(d,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(t,{label:"16k基础模型允许最大回复上下文",prop:"openaiModel3MaxTokens16kRes"},{default:o(()=>[e(p,{modelValue:a.openaiModel3MaxTokens16kRes,"onUpdate:modelValue":l[6]||(l[6]=n=>a.openaiModel3MaxTokens16kRes=n),placeholder:"16k模型最大回复设置、默认8192",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),K,e(s,null,{default:o(()=>[e(d,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(t,{label:"普通高级模型允许最大上下文",prop:"openaiModel4MaxTokens"},{default:o(()=>[e(p,{modelValue:a.openaiModel4MaxTokens,"onUpdate:modelValue":l[7]||(l[7]=n=>a.openaiModel4MaxTokens=n),placeholder:"高级模型上下文最大支持8192、默认8192",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,null,{default:o(()=>[e(d,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(t,{label:"普通高级模型允许最大回复上下文",prop:"openaiModel4MaxTokensRes"},{default:o(()=>[e(p,{modelValue:a.openaiModel4MaxTokensRes,"onUpdate:modelValue":l[8]||(l[8]=n=>a.openaiModel4MaxTokensRes=n),placeholder:"高级模型回复设置、默认4000",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,null,{default:o(()=>[e(d,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(t,{label:"32k高级模型允许最大上下文",prop:"openaiModel4MaxTokens32k"},{default:o(()=>[e(p,{modelValue:a.openaiModel4MaxTokens32k,"onUpdate:modelValue":l[9]||(l[9]=n=>a.openaiModel4MaxTokens32k=n),placeholder:"32k高级模型上下文最大支持32768、默认16384",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(s,null,{default:o(()=>[e(d,{xs:24,md:20,lg:15,xl:12},{default:o(()=>[e(t,{label:"32k高级模型允许最大回复上下文",prop:"openaiModel4MaxTokens32kRes"},{default:o(()=>[e(p,{modelValue:a.openaiModel4MaxTokens32kRes,"onUpdate:modelValue":l[10]||(l[10]=n=>a.openaiModel4MaxTokens32kRes=n),placeholder:"32k高级模型上下文最大回复设置、默认16384",clearable:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1})])}}});typeof R=="function"&&R(Q);export{Q as default};
